<template>
    <div class="min-h-screen flex justify-center items-center">
        <div class="bg-gray-200 p-4 rounded-md shadow-md w-full max-w-md m-auto">
            <h1 class="text-2xl font-semibold text-center text-gray-700 mb-6">INICIAR SESIÓN</h1>
            <form @submit.prevent="login">
                <div class="mb-4">
                    <label for="email" class="block text-gray-700 text-sm font-bold mb-2">Correo electrónico</label>
                    <div class="relative">
                        <input type="email" id="email" placeholder="ejemplo@email.com" v-model="email" required
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                            <svg class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m0 0l-7.89 5.26a2 2 0 01-2.22 0L3 8m0 0v10a2 2 0 002 2h14a2 2 0 002-2V8m-1-1h-9.01m-9.01 0H5" />
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <label for="password" class="block text-gray-700 text-sm font-bold mb-2">Contraseña</label>
                    <div class="relative">
                        <input type="password" id="password" placeholder="********" v-model="password" required
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline">
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                            <svg class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                            </svg>
                        </div>
                    </div>
                    <a href="#"
                        class="inline-block align-baseline font-bold text-sm text-orange-500 hover:text-orange-800">
                        ¿Has olvidado tu contraseña?
                    </a>
                </div>
                <div class="flex items-center justify-center mb-4">
                    <button
                        class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                        type="submit">
                        Ingresar
                    </button>
                </div>
            </form>



            <div class="border-b border-gray-300 my-4"></div>

            <div class="flex items-center justify-center mb-4">
                <p class="text-gray-700 font-bold text-center">
                    OR
                </p>
            </div>

            <div class="flex items-center justify-center">
                <button
                    class="bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow">
                    Registrarse
                </button>
            </div>

            <div class="flex justify-center mt-6 space-x-4">
                <button class="rounded-full border p-2">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-gray-700">
                        <path
                            d="M22.46 14.28c-.96-.95-1.92-1.9-2.88-2.86-.59-.59-1.17-1.18-1.76-1.77-.4-.4-.8-.79-1.2-.98-.95-.48-1.91-.95-2.87-1.42-1.1-.55-2.2-.99-3.31-1.32-.24-.07-.49-.12-.73-.17-.18-.04-.36-.07-.54-.09-.25-.03-.5-.04-.75-.04-.25 0-.5.01-.75.04-.18.02-.36.05-.54.09-.24.05-.49.1-.73.17-1.11.33-2.21.77-3.31 1.32-.96.48-1.92.95-2.87 1.42-.4.19-.8.59-1.2.98-.59.59-1.17 1.18-1.76 1.77-.96.95-1.92 1.9-2.88 2.86-1.27 1.27-2.48 2.59-3.6 3.97-.2.23-.41.46-.6.7-.14.18-.28.37-.41.56-.09.13-.18.26-.26.4-.04.07-.08.14-.11.21-.02.05-.03.1-.05.15-.02.05-.03.1-.04.15-.01.05-.02.1-.02.16 0 .06 0 .11.01.17 0 .05.01.1.02.15.01.05.02.1.04.15.02.07.05.14.11.21.08.14.17.27.26.41.13.19.34.42.54.64 1.11 1.38 2.32 2.7 3.6 3.97.96.95 1.92 1.9 2.88 2.86.59.59 1.17 1.18 1.76 1.77.4.4.8.79 1.2.98.95.48 1.91.95 2.87 1.42 1.1.55 2.2.99 3.31 1.32.24.07.49.12.73.17.18.04.36.07.54.09.25.03.5.04.75.04.25 0 .5-.01.75-.04.18-.02.36-.05.54-.09.24-.05.49-.1.73-.17 1.11-.33 2.21-.77 3.31-1.32.96-.48 1.92-.95 2.87-1.42.4-.19.8-.59 1.2-.98.59-.59 1.17-1.18 1.76-1.77.96-.95 1.92-1.9 2.88-2.86 1.27-1.27 2.48-2.59 3.6-3.97.2-.23.41-.46.6-.7.14-.18.28-.37.41-.56.09-.13.18-.26.26-.4.04-.07.08-.14.11-.21.02-.05.03-.1.05-.15.02-.05.03-.1.04-.15.01-.05.02-.1.02-.16 0-.06 0-.11-.01-.17 0-.05-.01-.1-.02-.15-.01-.05-.02-.1-.04-.15-.02-.07-.05-.14-.11-.21-.08-.14-.17-.27-.26-.41-.13-.19-.34-.42-.54-.64-1.11-1.38-2.32-2.7-3.6-3.97zM10.02 16.3l-3.47-3.47 1.02-1.02 2.45 2.45 5.18-5.18 1.02 1.02-6.2 6.2z" />
                    </svg>
                </button>
                <button class="rounded-full border p-2">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-gray-700">
                        <path
                            d="M9.1978 21.5h4c.373 0 .683-.241.782-.6l.846-3.35h3.35c.373 0 .683-.24.782-.6l.847-3.35h-4.197v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h2.5v-4.188c0-.434-.317-.904-.75-.904h-4.188v-2.5c0-.922.184-1.5 1.84-1.5h4.197v24.972h-4.197v-2.5z" />
                    </svg>
                </button>
                <button class="rounded-full border p-2">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-gray-700">
                        <path
                            d="M22.46 14.28c-.96-.95-1.92-1.9-2.88-2.86-.59-.59-1.17-1.18-1.76-1.77-.4-.4-.8-.79-1.2-.98-.95-.48-1.91-.95-2.87-1.42-1.1-.55-2.2-.99-3.31-1.32-.24-.07-.49-.12-.73-.17-.18-.04-.36-.07-.54-.09-.25-.03-.5-.04-.75-.04-.25 0-.5.01-.75.04-.18.02-.36.05-.54.09-.24.05-.49.1-.73.17-1.11.33-2.21.77-3.31 1.32-.96.48-1.92.95-2.87 1.42-.4.19-.8.59-1.2.98-.59.59-1.17 1.18-1.76 1.77-.96.95-1.92 1.9-2.88 2.86-1.27 1.27-2.48 2.59-3.6 3.97-.2.23-.41.46-.6.7-.14.18-.28.37-.41.56-.09.13-.18.26-.26.4-.04.07-.08.14-.11.21-.02.05-.03.1-.05.15-.02.05-.03.1-.04.15-.01.05-.02.1-.02.16 0 .06 0 .11.01.17 0 .05.01.1.02.15.01.05.02.1.04.15.02.07.05.14.11.21.08.14.17.27.26.41.13.19.34.42.54.64 1.11 1.38 2.32 2.7 3.6 3.97.96.95 1.92 1.9 2.88 2.86.59.59 1.17 1.18 1.76 1.77.4.4.8.79 1.2.98.95.48 1.91.95 2.87 1.42 1.1.55 2.2.99 3.31 1.32.24.07.49.12.73.17.18.04.36.07.54.09.25.03.5.04.75.04.25 0 .5-.01.75-.04.18-.02.36-.05.54-.09.24-.05.49-.1.73-.17 1.11-.33 2.21-.77 3.31-1.32.96-.48 1.92-.95 2.87-1.42.4-.19.8-.59 1.2-.98.59-.59 1.17-1.18 1.76 1.77.96-.95 1.92 1.9 2.88-2.86 1.27-1.27 2.48-2.59 3.6-3.97.2-.23.41-.46.6-.7.14-.18.28.37-.41.56.09-.13.18.26.26-.4.04-.07.08-.14.11.21-.02.05-.03.1-.05.15-.02.05-.03.1-.04.15-.01.05-.02.1-.02.16 0 .06 0 .11.01.17 0 .05.01.1.02.15.01.05.02.1.04.15.02.07.05.14.11.21.08.14.17.27.26.41.13.19.34.42.54.64 1.11 1.38 2.32 2.7 3.6 3.97zM10.02 16.3l-3.47-3.47 1.02-1.02 2.45 2.45 5.18-5.18 1.02 1.02-6.2 6.2z" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
</template>

<script lang="ts" setup>

import { signInWithEmailAndPassword, getAuth  } from 'firebase/auth';
import { getFirestore, doc, getDoc } from 'firebase/firestore';
import { ref } from 'vue';

const auth = getAuth();
const db = getFirestore();

export const userRole = ref(null);

const email = ref('');
const password = ref('');
const errorMessage = ref('');

const login = async () => {
    errorMessage.value = '';

    try {
        const userCredential = await signInWithEmailAndPassword(auth, email.value, password.value);
        const user = userCredential.user;
        console.log('Usuario autenticado con UID:', user.uid);
        console.log('User logged in');

        // 1. Obtener el UID del usuario autenticado
        const uid = user.uid;

        // 2. Consultar Firestore para obtener el documento del usuario
        const userDocRef = doc(db, 'users', uid);
        const userDocSnap = await getDoc(userDocRef);

        if (userDocSnap.exists()) {
            const userData = userDocSnap.data();
            const fetchedUserRole = userData.role; // Obtiene el rol del documento
            console.log('Rol del usuario obtenido de Firestore:', fetchedUserRole);

            // 3. Guardar el rol en la ref 'userRole' (estado local del componente)
            userRole.value = fetchedUserRole; // Asigna el rol a la ref 'userRole'

        } else {
            console.error('Documento de usuario no encontrado en Firestore para UID:', uid);
            errorMessage.value = 'Error al obtener información del usuario.';
            userRole.value = null; // Asegúrate de resetear userRole en caso de error
            return; // Importante salir de la función si no se encuentra el documento
        }

    } catch (error: any) {
        console.error('Error al iniciar sesión:', error.code, error.message);
        errorMessage.value = error.message;
        userRole.value = null; // Asegúrate de resetear userRole en caso de error
    }
    return {
        email,
        password,
        errorMessage,
        login,
        userRole
    }
};

</script>